# 是一個全球非營利組織

### 2017 OWASP 10大安全漏洞
```
```
### 1.注入攻擊（Injection）
```
>* 簡稱SQL攻擊或隱碼攻擊，是發生於應用程式與資料庫層的安全漏洞。
>* 是在輸入的字串之中夾帶SQL指令，在設計不良的程式當中忽略了字元檢查，那麼這些夾帶進去的惡意指令就會被資料庫伺服器誤認為是正常的SQL指令而執行
```

>* 防禦

```
> *最佳選擇是使用安全的API，完全避免使用解釋器，或提供參數化界面的接口，或遷移到ORM或實體框架。
> *注意：當參數化時，存儲過程仍然可以引入SQL注入，如果PL / SQL或T-SQL將查詢和數據連接在一起，或者執行帶有立即執行或執行exec（）的惡意數據。
> *使用正確的或“白名單”的具有恰當規範化的輸入驗證方法同樣會有助於防止注入攻擊，但這不是一個完整的防禦，因為許多應用程序在輸入中需要特殊字符，例如文本區域或移動應用程序的API。
> *對於任何剩餘的動態查詢，可以使用該解釋器的特定轉義語法轉義特殊字符.OWASP的Java Encoder和類似的庫提供了這樣的轉義例程。
> *注意：SQL結構，比如：表名，列名等無法轉義，因此用戶提供的結構名是非常危險的。這是編寫軟件中的一個常見問題。
> *在查詢中使用LIMIT和其他SQL控件，以防止在SQL注入時大量地洩露記錄。
```
### 2.無效身分認證（Broken Authentication）
```
>* 開發者通常自訂義認證和會話管理方案,但與身分認證和回話管理的應用程序功能得不到正確實現,在退出,密碼管理,超時..存在漏洞
>* 攻擊者破壞密碼,密鑰,會話令牌去冒充用戶身分
```
>* 防禦

```
>* 在可能的情況下，實現多因素身份驗證，以防止自動，憑證填充，暴力破解和被盜憑據再利用攻擊。
>* 不要使用發送或部署默認的憑證，特別是管理員用戶。
>* 行弱密碼檢查，例如測試新或變更的密碼，以糾正“排名前10000個弱密碼“列表。
>* 將密碼長度，複雜性和循環策略與NIST-800-63 B的指導方針的5.1.1章節 - 記住秘密，或其他現代的基於證據的密碼策略相一致。
>* 確認註冊，憑據恢復和API路徑，通過對所有輸出結果使用相同的消息，用以抵禦賬戶枚舉攻擊。
>* 限製或逐漸延遲失敗的登錄嘗試。記錄所有失敗信息並在憑據填充，暴力破解或其他攻擊被檢測時提醒管理員。
>* 用服務器端安全的內置會話管理器，在登錄後生成高度複雜的新隨機會話ID。會話ID不能在URL中，可以安全地存儲和當登出，閒置，絕對超時後使其失效。
```

### 3.敏感資料外洩（Sensitive Data Exposure）
```
>* 釣魚郵件針對企業 CEO 發送的，郵件宣稱附有法院的證人傳票，然而事實上，信件中夾帶的是一個可執行檔，這個檔案是一隻會竊取電腦資料的木馬程式
>* 當信件被打開時，會自動在收件人電腦上開啟一個隱藏的瀏覽視窗，偷偷的安裝惡意程式在收件人電腦中，將個人資料、財務資訊以及憑證檔案傳送出去
```

>* 防禦

```
>* 對系統處理，存儲或傳輸的數據分類，並根據分類進行訪問控制。
>* 熟悉與敏感數據保護相關的法律和條例，並根據每項法規要求保護敏感數據。
>* 對於沒必要存放的，重要的敏感數據，應當盡快清除，或者通過PCI DSS標記或攔截。未存儲的數據不能被竊取。
>* 確保存儲的所有敏感數據被加密。
>* 確保使用了最新的，強大的標準算法或密碼，參數，協議和密匙，並且密鑰管理到位。
>* 確保傳輸過程中的數據被加密，如：使用TLS確保數據加密被強制執行，如：使用HTTP嚴格安全傳輸協議（HSTS）。
>* 禁止緩存對包含敏感數據的響應。
>* 確保使用密碼專用算法存儲密碼，如：Argon2，scrypt，bcrypt或者PBKDF2。將工作因素（延遲因素）設置在可接受範圍。
>* 單獨驗證每個安全配置項的有效性。
```
### 4.外部處理器漏洞（XML External Entity,XXE）
```
>* 會發生 XXE 主要是因為 parser 沒有禁止使用外部實體，意思是我們可以自行定義一個實體名稱，並在實體內容中定義要伺服器做的行為，因此注入點通常是可以輸入 XML 的位置。
```

>* 防禦

```
> *盡可能使用簡單的數據格式（如：JSON），避免對敏感數據進行序列化。
> *及時修復或更新應用程序或底層操作系統使用的所有XML處理器和庫。同時，通過依賴項檢測，將SOAP更新到1.2版本或更高版本。
> *參考“OWASP Cheat Sheet'XXE Prevention'”，在應用程序的所有XML解析器中禁用XML外部實體和DTD進程。
> *在服務器端實施積極的（“白名單”）輸入驗證，過濾和清理，以防止在XML文檔，標題或節點中出現惡意數據。
> *驗證XML或XSL文件上傳功能是否使用XSD驗證或其他類似驗證方法來驗證上傳的XML文件。
> *儘管在許多集成環境中，手動代碼審查是大型，複雜應用程序的最佳選擇，但是SAST工具可以檢測源代碼中的XXE漏洞。

```

### 5.無效的存取控管（Broken Access Control）
```
>* 管理者設定好的控制方式被破解了，使得原本不應該被存取的資源被未受權存取了。
```
### 6.不安全的組態設定（Security Misconfiguration）
```
>* 好的安全需要對應用程式、框架、應用程式伺服器、web伺服器、資料庫伺服器和平臺定義和執行安全配置。由於許多設置的預設值並不是安全的，因此，必須定義、實施和維護這些設置。
>* 這包含了對所有的軟體保持及時地更新，包括所有應用程式的庫檔。
```
### 7.跨站攻擊(Cross-site Scripting,XSS)
```
>* 是一種網站應用程式的安全漏洞攻擊，是程式碼注入的一種。
>* 通常指的是通過利用網頁開發時留下的漏洞，通過巧妙的方法注入惡意指令程式碼到網頁，使用戶載入並執行攻擊者惡意製造的網頁程式。
```
### 8.不安全的反序列化漏洞(Insecure Deserialization)
```
>* 攻擊者利用Java反射機制的副作用，在物件return之前就將所有動作執行完畢，導致反序列化在解開byteStream時並且跳出error之前就將Payload全數執行。
>* 就是一個使用者將110V的電器插入220V的插座中，雖然是一樣的插座孔，不過使用者並不知道插座的伏特數是多少，直到插座與電器通電、電器燒壞後才發現伏特數不合拍。
```
### 9.使用已有漏洞的原件(Using Components With Know Vulnerabilities)
```
>* 第三方的元件、框架或模組，經常是擁有完整的系統執行權限，所以一旦有已知漏洞被利用，往往可能造成嚴重的資料遭竊或系統被綁架。
```
### 10.紀錄與監控不足風險(Insufficient Logging&Monitoring)
```
>* 沒有針對應用程式進行記錄和監控，此時因為記錄和監控的不足，所以當資安事件發生時就無法立即處理與解決問題，同時讓攻擊者有機會更進一步攻擊系統
```
